# 站点跨分组拖拽功能设计

## 功能概述

允许用户在编辑模式下，将一个站点从一个分组拖拽到另一个分组，实现站点的跨分组移动。

## 技术方案

### 核心技术
- 使用 @dnd-kit/core 的跨容器拖拽功能
- 使用 unique-id 库为每个站点生成唯一标识符
- 利用 pointer sensor 实现跨分组的拖拽

### 实现步骤

#### 1. 数据结构修改
- 为每个站点添加唯一 ID（使用 uuid）
- 在拖拽过程中追踪源分组和目标分组

#### 2. 拖拽逻辑
- 在 App.tsx 顶层创建全局 DndContext
- 配置多个 DragOverlay 处理不同拖拽场景
- 监听 onDragEnd 事件处理跨分组拖拽

#### 3. UI 改进
- 拖拽时显示目标分组的高亮提示
- 拖拽完成后自动刷新数据
- 添加撤销功能（可选）

### API 需求

需要添加或修改以下 API：

```typescript
// 更新站点所属分组
updateSiteGroup(siteId: number, newGroupId: number): Promise<boolean>
```

## 用户交互流程

1. 用户进入编辑模式
2. 点击任意分组的"排序"按钮
3. 拖拽站点卡片到另一个分组的任何位置
4. 松开鼠标，站点移动到新分组
5. 数据自动保存

## 视觉反馈

- 拖拽时：站点半透明，显示拖拽效果
- 悬停目标分组时：目标分组边框高亮
- 完成拖拽：短暂动画提示

## 注意事项

- 需要处理同一分组内的拖拽（排序）
- 需要处理跨分组的拖拽（移动）
- 保持现有拖拽排序功能不变
